# 偶像大師百萬人演唱會！劇場時光(重生版) | THE iDOLM@STER Million (RE)Live!: Theater Days

各位製作人大家好！我是彩虹獨角獸P～

MLTD的繁中服和韓服都在2022年1月28日正式停止營運。由於官方沒有提供轉移資料至日服的渠道，意味著大家花了不少時間和金錢收集回來的卡片、服裝和名牌在關服後也被永久刪除，也不能再以親切的中文和韓文介面來繼續培育偶像。本專案的目的是以運行本地伺服器的形式令海外版MLTD可以繼續遊玩，希望能給大家一點安慰，也不會讓官方的本地化翻譯白白浪費。

## 計劃

### 第一階段（預計2月6日前完成）
首要任務是找出最簡單的方法令遊戲把所有HTTPS請求（包括API，資源和網頁）重新定向至本地伺服器，以及探索將HTTPS請求變為HTTP或使用自簽憑證也不會出錯的可能性，盡可能在Android手機沒ROOT權限和沒修改遊戲apk來進行。這樣的話理論上iOS也可以用，也就能惠及更多製作人。

重新定向的問題比較容易解決，設置一個DNS伺服器或代理，再將運行遊戲的裝置上的Wi-Fi設定改DNS就可以了。

把HTTPS請求改成HTTP基本上不可行，因為首先建立連線的一方是遊戲那邊，一開始就決定了所有請求必須用HTTPS。

自簽憑證方面，API可以，但網頁和資源不行。沒網頁的影響就是公告，轉蛋詳情和繼承資料時的注意事項不能顯示，相對輕微。沒資源的話，遊戲就當然不能玩了。目前想到的解決辦法有以下幾種：
1. 在Android手機的User credentials安裝自簽憑證，然後重新打包遊戲apk去信任用戶自簽憑證。這個方法設置工序比較複雜，不支援iOS，而且Android新版本的保安規格會越收越緊，不保證以後仍可行。
2. 使用由憑證頒發機構(CA)簽發的憑證。由於資源伺服器的URL是由API提供，在測試過程中發現把URL指向其他域名（如[https://rainbowunicorn7297.com](https://rainbowunicorn7297.com)），遊戲會從這個新域名下載資源。購買域名後，可用[Let's Encrypt](https://letsencrypt.org)等服務免費取得CA簽發憑證和密鑰（有效期最多90天），或購買CA簽發憑證和密鑰（有效期可長達5年或以上，但據聞最新簽發的憑證有效期超過398天的話，客戶端可能會出現警告或錯誤）。這個方法的缺點是有效期過後，要重新簽發一組新的憑證和密鑰，然後大家需要去下載才能繼續玩。

### 第二階段（預計2月20日前完成）
以本人帳號為藍本，在最短時間內讓劇情和演唱會，遊戲內最主要的兩個功能可以運作。

### 第三階段（預計6月中完成）
以一個通用帳號為基礎，已集齊全部卡片和服裝和解鎖所有劇情，將大部分社交類以外功能以最接近關服前的狀態呈現。活動和歌曲排名方面只有繁中服有備份，韓服則沒有。

### 第四階段（不定期更新）
到這裡可能會提供一些工具方便大家修改遊戲的數據和伺服器的行為，因為同一個通用帳號應該照顧不了所有的可能性。

## 討論區
開了一個簡單的Discord群組，歡迎大家加入和交流：https://discord.gg/EmeDpp8jSm
